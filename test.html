<html>
	<head>
		<script type="text/javascript" src="NBT.js"></script>
		<script type="text/javascript">
			function loadNBTFile(fileSelect) {

				var file = fileSelect.files[0];
				// getAsBinary is not supported on Chrome.
				// var nbtfile = file.getAsBinary();
				var r = new FileReader();
				r.onload = function(){ 
					var nbtfile = r.result;
					var nbt = new NBT(nbtfile);
					var resultDiv = document.getElementById("result");
					// toSource is not supported on Chrome.
					// resultDiv.innerHTML = nbt.root[0].toSource();
					resultDiv.innerHTML = JSON.stringify(nbt.root[0]);
				};
				r.readAsBinaryString(file);
			}
		</script>
	</head>
	<body>
		<input type="file" id="nbtfile" name="file" />
		<input type="submit" onclick="loadNBTFile(document.getElementById('nbtfile'))" value="Process NBT" />
		<div id="result"></div>
	</body>
</html>
